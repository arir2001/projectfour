{% extends "blog/blogadmin_base.html" %}
{% load blog_extras %}
{% load static %}
{% block blog_content %}
    <!--post_form starts-->
    <div class="container p-2 mt-4">
        <h2>{% if form.instance.id %}Edit Post{% else %}Create Post{% endif %}</h2>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}">Title</label>
                {{ form.title|add_class:"form-control"  }}
            </div>
            <div class="form-group">
                <label for="{{ form.slug.id_for_label }}">Slug</label>
                {{ form.slug|add_class:"form-control p-2"   }}</div>
            <div class="form-group">
                <label for="{{ form.content.id_for_label }}">Content</label>
                {{ form.content|add_class:"form-control"}}</div>
            <div class="form-group p-2">
                <label for="{{ form.featured_image.id_for_label }}">Featured Image</label>
                {{ form.featured_image|add_class:"form-control"}}</div>
            <div class="form-group">
                <label for="{{ form.status.id_for_label }}">Status</label>
                {{  form.status}}</div>
            <div class="form-group">
                <label for="{{ form.tags.id_for_label }}">Tags</label>
                {{ form.tags|add_class:"form-control"}}</div>
            <div class="p-2">
                <button type="submit" class="btn btn-primary">Save</button>
            </div>

            {% if form.errors %}
            <div class="alert alert-danger">
                <ul>
                    {% for field in form %}
                        {% for error in field.errors %}
                            <li>{{ field.label }}: {{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        </form>
    </div>
    <!--post_form ends-->
{% endblock blog_content %}
